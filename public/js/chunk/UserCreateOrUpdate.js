(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"0Hmi":function(e,t,r){"use strict";r.r(t);var n=r("tGF5"),a={name:"UserCreateOrUpdate",metaInfo:function(){return{title:this.isEditing?"ویرایش کاربر":"ساخت کاربر"}},data:function(){return{breadcrumbs:[{text:"داشبورد",disabled:!1,to:{name:"admin-dashboard"},exact:!0},{text:"مدیریت کاربران",disabled:!1,to:{name:"admin-user-index"},exact:!0},{text:"ساخت کاربر",disabled:!0,to:{name:"admin-user-create"},exact:!0}],form:{name:"",username:"",email:"",password:"",roles:[]},errors:{username:null,email:null},required:n.c,verifyEmail:n.d,isEditing:!1,passwordRule:[],roles:[]}},computed:{requestType:function(){return this.isEditing?"patch":"post"},requestUrl:function(){return this.isEditing?"/api/admin/users/".concat(this.$route.params.id):"/api/admin/users"}},created:function(){var e=this;axios.get("/api/admin/all-roles").then((function(t){var r=t.data;e.roles=r})),this.$route.params.id?(this.isEditing=!0,this.breadcrumbs[2].text="ویرایش کاربر",axios.get("/api/admin/users/".concat(this.$route.params.id)).then((function(t){var r=t.data;e.form.id=r.id,e.form.name=r.name,e.form.username=r.username,e.form.email=r.email,e.form.roles=r.all_role_id}))):this.passwordRule=[Object(n.c)("این فیلد الزامیست")]},methods:{save:function(){var e=this;this.errors={username:null,email:null},this.$refs.createUser.validate()&&axios[this.requestType](this.requestUrl,this.form).then((function(){e.$router.push({name:"admin-user-index"})})).catch((function(t){var r=t.response;r.data.errors.email&&(e.errors.email=r.data.errors.email[0]),r.data.errors.username&&(e.errors.username=r.data.errors.username[0])}))}}},s=r("KHd+"),i=Object(s.a)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-main",[r("v-container",[r("v-row",[r("v-col",{staticClass:"mt-10",attrs:{cols:"12"}},[r("p",{staticClass:"headline"},[e._v(e._s(e.isEditing?"ویرایش کاربر":"ساخت کاربر"))]),e._v(" "),r("v-breadcrumbs",{attrs:{items:e.breadcrumbs}}),e._v(" "),r("v-form",{ref:"createUser",staticClass:"mt-10"},[r("v-text-field",{attrs:{name:"name",label:"نام",outlined:"",rules:[e.required("این فیلد الزامیست")]},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),r("v-text-field",{attrs:{name:"username",label:"نام کاربری",outlined:"",rules:[e.required("این فیلد الزامیست")],"error-messages":e.errors.username},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),e._v(" "),r("v-text-field",{attrs:{name:"email",label:"ایمیل",outlined:"",rules:[e.required("این فیلد الزامیست"),e.verifyEmail()],"error-messages":e.errors.email},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),r("v-text-field",{attrs:{name:"password",label:"رمزعبور",outlined:"",rules:e.passwordRule},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),r("p",[e._v("نقش های کاربر")]),e._v(" "),r("div",{staticClass:"d-flex flex-row"},e._l(e.roles,(function(t){return r("v-checkbox",{key:t.name,staticClass:"ml-9",attrs:{value:t.id,label:t.name},model:{value:e.form.roles,callback:function(t){e.$set(e.form,"roles",t)},expression:"form.roles"}})})),1),e._v(" "),r("v-btn",{attrs:{color:"info"},on:{click:e.save}},[e._v(e._s(e.isEditing?"ویرایش":"ذخیره"))])],1)],1)],1)],1)],1)}),[],!1,null,"0582c3f4",null);t.default=i.exports},"KHd+":function(e,t,r){"use strict";function n(e,t,r,n,a,s,i,o){var u,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=r,l._compiled=!0),n&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),i?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},l._ssrRegister=u):a&&(u=o?function(){a.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:a),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(e,t){return u.call(t),c(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,u):[u]}return{exports:e,options:l}}r.d(t,"a",(function(){return n}))},tGF5:function(e,t,r){"use strict";function n(e){return function(t){return!!t||e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"یک ایمیل درست را وارد کنید";return function(t){return/^([a-zA-Z0-9]([\.\w]*)@([\w]{2,9}[\.])[a-zA-Z]{2,4})$/.test(t)||e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"یک نام کاربری معتبر وارد کنید";return function(t){return/^[a-z0-9_-]{3,15}$/.test(t)||e}}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(n){return n?!!n&&n.length<=e||"طول ".concat(t," نباید بیشتر از ").concat(e," کاراکتر باشد"):!!r||t+" الزامیست "}}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(n){return n?!!n&&n.length>=e||"طول ".concat(t," باید بیشتر از ").concat(e," کاراکتر باشد"):!!r||t+" الزامیست "}}r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return s})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}))}}]);