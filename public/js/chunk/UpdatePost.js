(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"9c6I":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("pvRw");function a(t){var e=t.target.files[0],n=new FileReader,a=Object(o.d)(null);return n.onload=function(t){a.value=t.target.result},n.readAsDataURL(e),a}},"KHd+":function(t,e,n){"use strict";function o(t,e,n,o,a,r,s,i){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),o&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):a&&(c=i?function(){a.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var v=l.beforeCreate;l.beforeCreate=v?[].concat(v,c):[c]}return{exports:t,options:l}}n.d(e,"a",(function(){return o}))},b1Da:function(t,e,n){"use strict";n.r(e);var o=n("pvRw"),a=n("9c6I"),r={name:"UpdatePost",setup:function(t,e){var n=e.root,r=Object(o.d)({image:null,image_name:null,title:null,content:null,description:null,categories:[]});axios.get("/api/posts/".concat(n.$route.params.slug,"/edit")).then((function(t){var e=t.data;console.log(e),r.value=e,r.value.categories=e.cate}));Object(o.f)((function(){return r.value.categories}),(function(t){t.length>5&&r.value.categories.pop()}));var s=Object(o.d)([]);return{UploadImage:function(t){r.value.image_name=t.target.files[0].name,r.value.image=Object(a.a)(t)},form:r,savePost:function(){n.$store.dispatch("post/editPost",r.value).then((function(t){var e=t.data;n.$router.push({name:"post-show",params:{slug:e.data.slug}})})).catch((function(t){var e=t.response;Object.values(e.data.errors).forEach((function(t){s.value.push({text:t[0],show:!0})}))}))},errors:s}}},s=n("KHd+"),i=Object(s.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",[n("v-col",{attrs:{col:"12",md:"6"}},[n("p",[t._v("عکس خود را آپلود کنید")]),t._v(" "),n("input",{attrs:{type:"file"},on:{change:t.UploadImage}}),t._v(" "),t.form.image?n("v-img",{staticClass:"mt-7",attrs:{src:t.form.image,width:"300px",height:"300px"}}):t._e(),t._v(" "),n("p",[t._v(" "+t._s(t.form.title)+" ")]),t._v(" "),n("v-textarea",{attrs:{placeholder:"توضیحات را بنویسید"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),n("v-col",{attrs:{col:"12",md:"6"}},[n("p",[t._v("دسته بندی پستتان را وارد کنید")]),t._v(" "),n("v-combobox",{attrs:{placeholder:"دسته بندی ها",multiple:"",chips:"","append-icon":"",hint:"شما حداکثر 5 دسته بندی میتوانید انتخاب کنید","persistent-hint":""},model:{value:t.form.categories,callback:function(e){t.$set(t.form,"categories",e)},expression:"form.categories"}}),t._v(" "),n("div",{staticClass:"d-flex flex-row"},[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"mt-7",attrs:{color:"info"},on:{click:t.savePost}},[t._v("\n                    ویرایش نوشته\n                ")])],1)],1)],1),t._v(" "),t._l(t.errors,(function(e,o){return n("v-snackbar",{key:o,attrs:{color:"error",timeout:0},model:{value:e.show,callback:function(n){t.$set(e,"show",n)},expression:"error.show"}},[t._v("\n        "+t._s(e.text)+"\n\n        "),n("v-btn",{attrs:{text:""},on:{click:function(t){e.show=!1}}},[t._v("X")])],1)}))],2)}),[],!1,null,"186cc90a",null);e.default=i.exports}}]);